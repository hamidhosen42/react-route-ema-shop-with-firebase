{"ast":null,"code":"// use local storage to manage cart data\nconst addToDb = id => {\n  let shoppingCart = {}; //get the shopping cart from local storage\n\n  const storedCart = localStorage.getItem(\"shopping-cart\");\n\n  if (storedCart) {\n    shoppingCart = JSON.parse(storedCart);\n  } // add quantity\n\n\n  const quantity = shoppingCart[id];\n\n  if (quantity) {\n    const newQuantity = quantity + 1;\n    shoppingCart[id] = newQuantity;\n  } else {\n    shoppingCart[id] = 1;\n  }\n\n  localStorage.setItem(\"shopping-cart\", JSON.stringify(shoppingCart));\n};\n\nconst getStoredCart = () => {\n  let shoppingCart = {}; //get the shopping cart from local storage\n\n  const storedCart = localStorage.getItem(\"shopping-cart\");\n\n  if (storedCart) {\n    shoppingCart = JSON.parse(storedCart);\n  }\n\n  return shoppingCart;\n};\n\nconst removeFromDb = id => {\n  const storedCart = localStorage.getItem(\"shopping-cart\");\n\n  if (storedCart) {\n    const shoppingCart = JSON.parse(storedCart);\n\n    if (id in shoppingCart) {\n      delete shoppingCart[id];\n      localStorage.setItem(\"shopping-cart\", JSON.stringify(shoppingCart));\n    }\n  }\n};\n\nconst deleteShoppingCart = () => {\n  localStorage.removeItem(\"shopping-cart\");\n};\n\nexport { addToDb, getStoredCart, removeFromDb, deleteShoppingCart };","map":{"version":3,"sources":["D:/programming_hero/Milestone 10-React Authentication/Module 59-Private Route Recap with Ema-John/react-route-ema-shop-with-firebase/src/utilities/fakedb.js"],"names":["addToDb","id","shoppingCart","storedCart","localStorage","getItem","JSON","parse","quantity","newQuantity","setItem","stringify","getStoredCart","removeFromDb","deleteShoppingCart","removeItem"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAIC,EAAD,IAAQ;AACtB,MAAIC,YAAY,GAAG,EAAnB,CADsB,CAGtB;;AACA,QAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;;AACA,MAAIF,UAAJ,EAAgB;AACdD,IAAAA,YAAY,GAAGI,IAAI,CAACC,KAAL,CAAWJ,UAAX,CAAf;AACD,GAPqB,CAStB;;;AACA,QAAMK,QAAQ,GAAGN,YAAY,CAACD,EAAD,CAA7B;;AACA,MAAIO,QAAJ,EAAc;AACZ,UAAMC,WAAW,GAAGD,QAAQ,GAAG,CAA/B;AACAN,IAAAA,YAAY,CAACD,EAAD,CAAZ,GAAmBQ,WAAnB;AACD,GAHD,MAGO;AACLP,IAAAA,YAAY,CAACD,EAAD,CAAZ,GAAmB,CAAnB;AACD;;AACDG,EAAAA,YAAY,CAACM,OAAb,CAAqB,eAArB,EAAsCJ,IAAI,CAACK,SAAL,CAAeT,YAAf,CAAtC;AACD,CAlBD;;AAoBA,MAAMU,aAAa,GAAG,MAAM;AAC1B,MAAIV,YAAY,GAAG,EAAnB,CAD0B,CAG1B;;AACA,QAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;;AACA,MAAIF,UAAJ,EAAgB;AACdD,IAAAA,YAAY,GAAGI,IAAI,CAACC,KAAL,CAAWJ,UAAX,CAAf;AACD;;AACD,SAAOD,YAAP;AACD,CATD;;AAWA,MAAMW,YAAY,GAAIZ,EAAD,IAAQ;AAC3B,QAAME,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB;;AACA,MAAIF,UAAJ,EAAgB;AACd,UAAMD,YAAY,GAAGI,IAAI,CAACC,KAAL,CAAWJ,UAAX,CAArB;;AACA,QAAIF,EAAE,IAAIC,YAAV,EAAwB;AACtB,aAAOA,YAAY,CAACD,EAAD,CAAnB;AACAG,MAAAA,YAAY,CAACM,OAAb,CAAqB,eAArB,EAAsCJ,IAAI,CAACK,SAAL,CAAeT,YAAf,CAAtC;AACD;AACF;AACF,CATD;;AAWA,MAAMY,kBAAkB,GAAG,MAAM;AAC/BV,EAAAA,YAAY,CAACW,UAAb,CAAwB,eAAxB;AACD,CAFD;;AAIA,SAASf,OAAT,EAAkBY,aAAlB,EAAiCC,YAAjC,EAA+CC,kBAA/C","sourcesContent":["// use local storage to manage cart data\r\nconst addToDb = (id) => {\r\n  let shoppingCart = {};\r\n\r\n  //get the shopping cart from local storage\r\n  const storedCart = localStorage.getItem(\"shopping-cart\");\r\n  if (storedCart) {\r\n    shoppingCart = JSON.parse(storedCart);\r\n  }\r\n\r\n  // add quantity\r\n  const quantity = shoppingCart[id];\r\n  if (quantity) {\r\n    const newQuantity = quantity + 1;\r\n    shoppingCart[id] = newQuantity;\r\n  } else {\r\n    shoppingCart[id] = 1;\r\n  }\r\n  localStorage.setItem(\"shopping-cart\", JSON.stringify(shoppingCart));\r\n};\r\n\r\nconst getStoredCart = () => {\r\n  let shoppingCart = {};\r\n\r\n  //get the shopping cart from local storage\r\n  const storedCart = localStorage.getItem(\"shopping-cart\");\r\n  if (storedCart) {\r\n    shoppingCart = JSON.parse(storedCart);\r\n  }\r\n  return shoppingCart;\r\n};\r\n\r\nconst removeFromDb = (id) => {\r\n  const storedCart = localStorage.getItem(\"shopping-cart\");\r\n  if (storedCart) {\r\n    const shoppingCart = JSON.parse(storedCart);\r\n    if (id in shoppingCart) {\r\n      delete shoppingCart[id];\r\n      localStorage.setItem(\"shopping-cart\", JSON.stringify(shoppingCart));\r\n    }\r\n  }\r\n};\r\n\r\nconst deleteShoppingCart = () => {\r\n  localStorage.removeItem(\"shopping-cart\");\r\n};\r\n\r\nexport { addToDb, getStoredCart, removeFromDb, deleteShoppingCart };"]},"metadata":{},"sourceType":"module"}